Trading Bot Logic Issues:

fixed 1. MAX_HOLD_HOURS truncation: .env MAX_HOLD_HOURS=0.5, get_env_int in run.py truncates to 0 ("0 hours"). Change to get_env_float.

fixed 2. No trade history updates: risk_manager.update_trade_history(trade) never called (missing in trader.py _execute_trade/_close_position). History empty, metrics fail.

fixed 3. POSITION_SIZE unused: config POSITION_SIZE='20%' ignored. _calculate_position_size uses MAX_POSITION_SIZE_PCT only. Parse/use POSITION_SIZE.

fixed 4. Hardcoded risk params: risk_manager.calculate_position_size uses self.risk_params.max_position_size_pct=0.1 (hardcoded), ignores config.

5. Proposed size in can_trade: proposed_size = decision.get('quantity', ...) — 'quantity' not in AI decision.

fixed 6. monitor_positions unused: Defined in trader.py but not called in loop (missed exits).

fixed 7. Trader confidence hardcoded: _parse_ai_outlook overrides AI outlook.confidence with action-based values. Prefer AI confidence.

8. CRYPTO empty: '' if not in .env, RUN_NAME odd (e.g., LIVE_BITUNIX__BTCUSDT...).

fixed 9. Generic block reason: "Trade blocked by risk management" — log specific check (confidence/position/risk).

fixed 10. risk_params still used: check_risk_limits max_daily_loss = self.risk_params.daily_loss_limit_pct (hard 0.02). Use config['DAILY_LOSS_LIMIT_PCT'].

fixed 11. Volatility hard: calculate_position_size self.risk_params.volatility_adjusted (True), atr_period=14. Configurable or remove.

12. _calculate_position_size *0.01 arbitrary: BTC precision — symbol-specific min_qty better.

13. No balance in trade dict: 'balance': INITIAL_CAPITAL approx — fetch real post-trade for drawdown.

14. exchange monitor_positions duplicate: Bitunix has own task, trader has one — consolidate.

15. No SL/TP set in trader place_order: _execute_trade no SL/TP orders.

16. pnl calc in get_account_summary approx: no fees/leverage adjust.

17. RUN_NAME empty fields: CRYPTO='', clean if ''.
